set tool "test"
#set exp_internal 1

set testdata {
    {"1" "\[ 1 2 3 4 \]" }
    {"2" "\[ 2 3 4 5 \]" }
    {"3" "\[ 3 5 7 9 \]" }
    {"4" "\[ 3 5 7 9 \]" }
    {"5" "\[ -1 -1 -1 -1 \]" }
    {"6" "\[ -36 6 12 12 \]" }
    {"7" "\[ -36 8 8 14 \]" }
    {"8" "0" }
    {"9" "1" }
    {"10" "\[ 0.740741 0 0.0740741 0.037037 \]" }
    {"11" "\[ -36 -6 -12 -12 \]" }
    {"12" "\[ -36 -8 -8 -14 \]" }
    {"13" "\[ -36 -6 -12 -12 \]" }
    {"14" "5.47723" }
    {"15" "\[ -1 -2 -3 -4 \]" }
    {"16" "\[ 0.0333333 -0.0666667 -0.1 -0.133333 \]" }
    {"17" "\[ 1 0 0 -2.77556e\\-17 \]" }
    {"18" "\[ 7 14 21 28 \]" }
    {"19" "\[ 0.142857 0.285714 0.428571 0.571429 \]" }
    {"20" "\[ -36 6 12 12 \]" }
    {"21" "\[ 0.740741 0 0.0740741 0.037037 \]" }
    {"22" "40" }
    {"23" "30" }
    {"24" "\[ 0 -1 2 -1 \]" }
    {"25" "\[ 0 0 0 0 \]" }
    {"26" "\[ 0.111341 -1 2 -1 \]" }
    {"27" "6.37937" }
    {"28" "0" }
    {"29" "[01.00000 [02.00000 03.00000 04.00000]]" }

}
#    {"6"           "\[ -36 6 12 12 \]" }
#    {"7"           "\[ -37 8 8 14 \]" }
#    {"8"           "0" }
#    {"9"           "0" }

foreach pattern $testdata {
    set inputs   [lindex $pattern 0]
    set expected [lindex $pattern 1]
    eval "spawn ./src/quattest  $inputs"
    expect {
         -re $expected {
            pass $pattern
        }
        default {
	    fail "$inputs $expected"
	}
    }
}
